<!DOCTYPE html>
<html>
<head>
  <title>Cookie Clicker Clone 🍪</title>
  <style>
    body { background: #222; color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
    h1 { font-size: 50px; margin: 20px 0; }
    #cookie { width: 200px; cursor: pointer; transition: 0.1s; }
    #cookie:active { transform: scale(0.95); }
    #count { font-size: 30px; margin: 20px 0; }
    button { margin: 5px; padding: 10px 20px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
    .shop { margin-top: 30px; }
  </style>
</head>
<body>

<h1>🍪 Cookie Clicker</h1>
<img id="cookie" src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" alt="cookie">
<div id="count">0 Cookies</div>

<div class="shop">
  <h2>Shop</h2>
  <button onclick="buy('cursor')">Cursor (10🍪) — +0.1/sec</button><br>
  <button onclick="buy('grandma')">Grandma (100🍪) — +1/sec</button><br>
  <button onclick="buy('farm')">Farm (1000🍪) — +8/sec</button>
</div>

<script>
  let cookies = parseFloat(localStorage.getItem('cookies')) || 0;
  let items = JSON.parse(localStorage.getItem('items')) || { cursor:0, grandma:0, farm:0 };
  let cps = 0;

  const countDiv = document.getElementById('count');
  const cookieImg = document.getElementById('cookie');

  function update() {
    countDiv.innerText = cookies.toFixed(1) + " Cookies";
    localStorage.setItem('cookies', cookies);
    localStorage.setItem('items', JSON.stringify(items));
  }

  function calcCPS() {
    cps = items.cursor*0.1 + items.grandma*1 + items.farm*8;
  }

  cookieImg.onclick = () => {
    cookies += 1;
    update();
  }

  function buy(item) {
    let cost = 0;
    if (item === 'cursor') cost = 10;
    if (item === 'grandma') cost = 100;
    if (item === 'farm') cost = 1000;

    if (cookies >= cost) {
      cookies -= cost;
      items[item]++;
      calcCPS();
      update();
      alert(item + " purchased!");
    } else {
      alert("Not enough cookies!");
    }
  }

  function loop() {
    cookies += cps / 10;
    update();
    setTimeout(loop, 100);
  }

  calcCPS();
  update();
  loop();
</script>

</body>
</html>
